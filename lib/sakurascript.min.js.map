{"version":3,"sources":["lib/sakurascript.coffee","lib/sakurascript.js"],"names":["SakuraScript","SakuraScriptToken","joinargs","splitargs","slice","extend","child","parent","ctor","this","constructor","key","hasProp","call","prototype","__super__","hasOwnProperty","str","replace","all","quoted","split","map","arg","args","test","join","tokens1","tokens","fromObject","json","i","len","token","length","push","parse","script","ref","tag","tags","re","_this","group","j","offset","arguments","match","toObject","results","toSakuraScript","instance","Object","keys","class_name","toString","class","Error","Scope","superClass","scope","view","Surface","surface","SurfaceAlias","surface_alias","Balloon","balloon","PlayAnimation","animation","PlayAnimationWait","SimpleWait","period","PreciseWait","WaitFromBeginning","ResetBeginning","WaitAnimationEnd","id","ToggleQuick","ToggleSynchronize","scopes","TimeCritical","WaitClick","NoChoiceTimeout","EventChoice","text","event","references","concat","ReferencesChoice","ScriptChoice","script1","OldReferenceChoice","reference","BeginEventChoice","BeginReferencesChoice","BeginScriptChoice","EndChoice","BeginEventAnchor","BeginReferencesAnchor","BeginScriptAnchor","EndAnchor","LineBreak","HalfLineBreak","PercentLineBreak","percent","ToggleNoAutoLineBreak","Location","x1","y1","x","y","Image","path","args1","InlineImage","Font","name","BeFar","BeNear","Clear","End","OldChoiceEnd","OpenCommunicateBox","OpenTeachBox","Halt","Marker","Char","char","EscapeChar","UCSChar","AsciiChar","EntityChar","Animation","command","Bind","category","parts","dress_up","LockRepaint","UnlockRepaint","Move","duration","origin_type","source_origin","target_origin","MoveAsync","apply","MoveAsyncCancel","Raise","Set","Open","NotImplemented","str1","Number","isNaN","n","use_class","module","exports"],"mappings":"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","file":"lib/sakurascript.min.js","sourcesContent":["splitargs = (str) ->\n  str\n    .replace /\"((?:\\\\\\\\|\\\\\"|[^\"])*)\"/g, (all, quoted) -> quoted.replace(/,/g,'\\0')\n    .split /\\s*\\,\\s*/\n    .map (arg) -> arg.replace(/\\0/g, ',').replace(/\\\\(.)/, '$1')\njoinargs = (args) ->\n  args\n    .map (arg) -> arg.replace(/\\\\/, '\\\\\\\\').replace(/\\]/, '\\\\]')\n    .map (arg) -> if /[,\"]/.test(arg) then '\"' + arg.replace(/\"/, '\\\\\"') + '\"' else arg\n    .join ','\n\n# Sakura Script Parser/Builder\nclass SakuraScript\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    tokens = []\n    for token in json\n      tokens.push SakuraScriptToken.fromObject token\n    new SakuraScript tokens\n\n  # make instance from SakuraScript string\n  # @param script [string] SakuraScript string\n  # @return [SakuraScript] SakuraScript\n  @parse: (script) ->\n    tokens = []\n    while script.length\n      tag = null\n      for tag in SakuraScript.tags\n        if tag.re.test(script)\n          break\n      script = script.replace tag.re, (group..., offset, all) =>\n        tokens.push tag.match.call @, group\n        return '' # delete matched\n    new SakuraScript tokens\n\n  # constructor\n  # @param tokens [Array<SakuraScriptToken>] tokens\n  constructor: (@tokens = []) ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    for token in @tokens\n      token.toObject()\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: ->\n    (token.toSakuraScript() for token in @tokens).join ''\n\nclass SakuraScriptToken\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    instance = new SakuraScriptToken[json.class]()\n    for key in Object.keys(json) when key != \"class\"\n      instance[key] = json[key]\n    instance\n\n  # constructor\n  constructor: () ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    class_name = @constructor.toString().slice(9).match(/^[^\\s(]+/)[0]\n    json = {class: class_name}\n    for key in Object.keys(@)\n      json[key] = @[key]\n    json\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: -> throw new Error \"not implemented\"\n\n# \\0 \\h \\1 \\u \\p0 \\p[0]\nclass SakuraScriptToken.Scope extends SakuraScriptToken\n  constructor: (@scope, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\p[#{@scope}]\"\n      when \"nobracket\"\n        \"\\\\p#{@scope}\"\n      else\n        \"\\\\#{@view}\"\n# \\s0 \\s[0]\nclass SakuraScriptToken.Surface extends SakuraScriptToken\n  constructor: (@surface, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\s[#{@surface}]\"\n      when \"nobracket\"\n        \"\\\\s#{@surface}\"\n# \\s[smile]\nclass SakuraScriptToken.SurfaceAlias extends SakuraScriptToken\n  constructor: (@surface_alias) ->\n  toSakuraScript: -> \"\\\\s[#{joinargs [@surface_alias]}]\"\n# \\b0 \\b[0]\nclass SakuraScriptToken.Balloon extends SakuraScriptToken\n  constructor: (@balloon, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\b[#{@balloon}]\"\n      when \"nobracket\"\n        \"\\\\b#{@balloon}\"\n# \\i0 \\i[0]\nclass SakuraScriptToken.PlayAnimation extends SakuraScriptToken\n  constructor: (@animation, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\i[#{@animation}]\"\n      when \"nobracket\"\n        \"\\\\i#{@animation}\"\n# \\i[0,wait]\nclass SakuraScriptToken.PlayAnimationWait extends SakuraScriptToken\n  constructor: (@animation) ->\n  toSakuraScript: -> \"\\\\i[#{@animation},wait]\"\n# \\\\w1\nclass SakuraScriptToken.SimpleWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\w#{@period}\"\n# \\\\_w[1000]\nclass SakuraScriptToken.PreciseWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\_w[#{@period}]\"\n# \\\\__w[1000]\nclass SakuraScriptToken.WaitFromBeginning extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\__w[#{@period}]\"\n# \\\\__w[clear]\nclass SakuraScriptToken.ResetBeginning extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__w[clear]\"\n# \\\\__w[animation,0]\nclass SakuraScriptToken.WaitAnimationEnd extends SakuraScriptToken\n  constructor: (@id) ->\n  toSakuraScript: -> \"\\\\__w[animation,#{@id}]\"\n# \\\\_q\nclass SakuraScriptToken.ToggleQuick extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_q\"\n# \\\\_s \\s[0,1]\nclass SakuraScriptToken.ToggleSynchronize extends SakuraScriptToken\n  constructor: (@scopes = []) ->\n  toSakuraScript: -> \"\\\\_s\" + if @scopes.length then \"[#{joinargs @scopes}]\" else \"\"\n# \\\\t\nclass SakuraScriptToken.TimeCritical extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\t\"\n# \\\\x\nclass SakuraScriptToken.WaitClick extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\x\"\n# \\\\*\nclass SakuraScriptToken.NoChoiceTimeout extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\*\"\n# \\q[text,OnEvent,...]\nclass SakuraScriptToken.EventChoice extends SakuraScriptToken\n  constructor: (@text, @event, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, @event].concat(@references)}]\"\n# \\q[text,id,...]\nclass SakuraScriptToken.ReferencesChoice extends SakuraScriptToken\n  constructor: (@text, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text].concat(@references)}]\"\n# \\q[text,script:...]\nclass SakuraScriptToken.ScriptChoice extends SakuraScriptToken\n  constructor: (@text, @script) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, \"script:\" + @script]}]\"\n# \\q[id][text] \\q0[id][text]\nclass SakuraScriptToken.OldReferenceChoice extends SakuraScriptToken\n  constructor: (@text, @reference, @view) ->\n  toSakuraScript: -> \"\\\\q#{@view || ''}[#{joinargs [@reference]}][#{joinargs [@text]}]\"\n# \\\\__q[OnEvent,...]\nclass SakuraScriptToken.BeginEventChoice extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [@event].concat(@references)}]\"\n# \\\\__q[id,...]\nclass SakuraScriptToken.BeginReferencesChoice extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs @references}]\"\n# \\\\__q[script:...]\nclass SakuraScriptToken.BeginScriptChoice extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [\"script:\" + @script]}]\"\n# \\\\__q\nclass SakuraScriptToken.EndChoice extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__q\"\n# \\\\_a[OnEvent,...]\nclass SakuraScriptToken.BeginEventAnchor extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [@event].concat(@references)}]\"\n# \\\\_a[id,...]\nclass SakuraScriptToken.BeginReferencesAnchor extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs @references}]\"\n# \\\\_a[script:...]\nclass SakuraScriptToken.BeginScriptAnchor extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [\"script:\" + @script]}]\"\n# \\\\_a\nclass SakuraScriptToken.EndAnchor extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_a\"\n# \\n\nclass SakuraScriptToken.LineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n\"\n# \\n[half]\nclass SakuraScriptToken.HalfLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n[half]\"\n# \\n[100]\nclass SakuraScriptToken.PercentLineBreak extends SakuraScriptToken\n  constructor: (@percent) ->\n  toSakuraScript: -> \"\\\\n[#{@percent}]\"\n# \\\\_n\nclass SakuraScriptToken.ToggleNoAutoLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_n\"\n# \\\\_l[0,0]\nclass SakuraScriptToken.Location extends SakuraScriptToken\n  constructor: (@x, @y) ->\n  toSakuraScript: -> \"\\\\_l[#{[@x, @y].join(',')}]\"\n# \\\\_b[path,0,0,...]\nclass SakuraScriptToken.Image extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, @x, @y].concat(@args).join(',')}]\"\n# \\\\_b[path,inline,...]\nclass SakuraScriptToken.InlineImage extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, 'inline'].concat(@args).join(',')}]\"\n# \\f[...]\nclass SakuraScriptToken.Font extends SakuraScriptToken\n  constructor: (@name, @args) ->\n  toSakuraScript: -> \"\\\\f[#{joinargs [@name].concat(@args)}]\"\n# \\\\4\nclass SakuraScriptToken.BeFar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\4\"\n# \\\\5\nclass SakuraScriptToken.BeNear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\5\"\n# \\\\c\nclass SakuraScriptToken.Clear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\c\"\n# \\\\e\nclass SakuraScriptToken.End extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\e\"\n# \\\\z\nclass SakuraScriptToken.OldChoiceEnd extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\z\"\n# \\\\__c\nclass SakuraScriptToken.OpenCommunicateBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__c\"\n# \\\\__t\nclass SakuraScriptToken.OpenTeachBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__t\"\n# \\\\-\nclass SakuraScriptToken.Halt extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\-\"\n# \\\\![*]\nclass SakuraScriptToken.Marker extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![*]\"\n# a char\nclass SakuraScriptToken.Char extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> @char\n# \\\\\\\\\nclass SakuraScriptToken.EscapeChar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\\\\\\"\n# \\\\_u[0x01]\nclass SakuraScriptToken.UCSChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_u[0x#{@char.toString(16)}]\"\n# \\\\_m[0x01]\nclass SakuraScriptToken.AsciiChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_m[0x#{@char.toString(16)}]\"\n# \\\\&[amp]\nclass SakuraScriptToken.EntityChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\&[#{@char}]\"\n# \\\\![anim,...]\nclass SakuraScriptToken.Animation extends SakuraScriptToken\n  constructor: (@command, @id, @args) ->\n  toSakuraScript: -> \"\\\\![anim,#{joinargs [@command, @id].concat(@args)}]\"\n# \\\\![bind,...]\nclass SakuraScriptToken.Bind extends SakuraScriptToken\n  constructor: (@category, @parts, @dress_up) ->\n  toSakuraScript: -> \"\\\\![bind,#{joinargs [@category, @parts, @dress_up]}]\"\n# \\\\![lock,paint]\nclass SakuraScriptToken.LockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![lock,repaint]\"\n# \\\\![unlock,paint]\nclass SakuraScriptToken.UnlockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![unlock,repaint]\"\n# \\\\![move,...]\nclass SakuraScriptToken.Move extends SakuraScriptToken\n  constructor: (@x, @y, @duration, @origin_type, @source_origin, @target_origin) ->\n  toSakuraScript: -> \"\\\\![move,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,...]\nclass SakuraScriptToken.MoveAsync extends SakuraScriptToken.Move\n  toSakuraScript: -> \"\\\\![moveasync,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,cancel]\nclass SakuraScriptToken.MoveAsyncCancel extends SakuraScriptToken.Move\n  constructor: ->\n  toSakuraScript: -> \"\\\\![moveasync,cancel]\"\n# \\\\![raise,...]\nclass SakuraScriptToken.Raise extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\![raise,#{joinargs [@event].concat(@references)}]\"\n# \\\\![set,...]\nclass SakuraScriptToken.Set extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![set,#{joinargs [@id].concat(@args)}]\"\n# \\\\![open,...]\nclass SakuraScriptToken.Open extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![open,#{joinargs [@id].concat(@args)}]\"\n# not impremented tags\nclass SakuraScriptToken.NotImplemented extends SakuraScriptToken\n  constructor: (@str) ->\n  toSakuraScript: -> @str\n\nSakuraScript.tags = [\n  {re: /^\\\\([h0])/, match: (group) -> new SakuraScriptToken.Scope 0, group[1]}\n  {re: /^\\\\([u1])/, match: (group) -> new SakuraScriptToken.Scope 1, group[1]}\n  {re: /^\\\\p\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"bracket\"}\n  {re: /^\\\\p(\\d)/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s(\\d)/, match: (group) -> new SakuraScriptToken.Surface Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s\\[([^\\]]+)\\]/, match: (group) -> if isNaN(group[1]) then new SakuraScriptToken.SurfaceAlias group[1] else new SakuraScriptToken.Surface Number(group[1]), \"bracket\"}\n  {re: /^\\\\b(\\d)/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"nobracket\"}\n  {re: /^\\\\b\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"bracket\"}\n  {re: /^\\\\i(\\d)/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"nobracket\"}\n  {re: /^\\\\i\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"bracket\"}\n  {re: /^\\\\i\\[(\\d+),wait\\]/, match: (group) -> new SakuraScriptToken.PlayAnimationWait Number(group[1])}\n  {re: /^\\\\w(\\d)/, match: (group) -> new SakuraScriptToken.SimpleWait Number group[1]}\n  {re: /^\\\\_w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PreciseWait Number group[1]}\n  {re: /^\\\\__w\\[animation,(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitAnimationEnd Number group[1]}\n  {re: /^\\\\__w\\[clear\\]/, match: (group) -> new SakuraScriptToken.ResetBeginning()}\n  {re: /^\\\\__w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitFromBeginning Number group[1]}\n  {re: /^\\\\_q/, match: (group) -> new SakuraScriptToken.ToggleQuick()}\n  {re: /^\\\\_s\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.ToggleSynchronize splitargs(group[1]).map (n) -> Number(n)}\n  {re: /^\\\\_s/, match: (group) -> new SakuraScriptToken.ToggleSynchronize()}\n  {re: /^\\\\t/, match: (group) -> new SakuraScriptToken.TimeCritical()}\n  {re: /^\\\\x/, match: (group) -> new SakuraScriptToken.WaitClick() }\n  {re: /^\\\\\\*/, match: (group) -> new SakuraScriptToken.NoChoiceTimeout()}\n  {re: /^\\\\q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[1]\n      new SakuraScriptToken.EventChoice args[0], args[1], args.slice(2)\n    else if /^script:/.test args[1]\n      new SakuraScriptToken.ScriptChoice args[0], args[1].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.ReferencesChoice args[0], args.slice(1)\n  }\n  {re: /^\\\\__q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventChoice args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptChoice args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesChoice args\n  }\n  {re: /^\\\\__q/, match: (group) -> new SakuraScriptToken.EndChoice()}\n  {re: /^\\\\q(\\d*)\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> new SakuraScriptToken.OldReferenceChoice group[3], group[2], group[1]}\n  {re: /^\\\\_a\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventAnchor args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptAnchor args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesAnchor args\n  }\n  {re: /^\\\\_a/, match: (group) -> new SakuraScriptToken.EndAnchor()}\n  {re: /^\\\\n\\[half\\]/, match: (group) -> new SakuraScriptToken.HalfLineBreak()}\n  {re: /^\\\\n\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PercentLineBreak Number(group[1])}\n  {re: /^\\\\n/, match: (group) -> new SakuraScriptToken.LineBreak()}\n  {re: /^\\\\_n/, match: (group) -> new SakuraScriptToken.ToggleNoAutoLineBreak()}\n  {re: /^\\\\_l\\[([^\\]]+)\\]/, match: (group) -> [x, y] = splitargs(group[1]); new SakuraScriptToken.Location x, y}\n  {re: /^\\\\_b\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if args[1] == \"inline\"\n      new SakuraScriptToken.InlineImage args[0], args.slice(2)\n    else\n      new SakuraScriptToken.Image args[0], args[1], args[2], args.slice(3)\n  }\n  {re: /^\\\\f\\[([^\\]]+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Font args[0], args.slice(1)}\n  {re: /^\\\\4/, match: (group) -> new SakuraScriptToken.BeFar()}\n  {re: /^\\\\5/, match: (group) -> new SakuraScriptToken.BeNear()}\n  {re: /^\\\\c/, match: (group) -> new SakuraScriptToken.Clear()}\n  {re: /^\\\\e/, match: (group) -> new SakuraScriptToken.End()}\n  {re: /^\\\\z/, match: (group) -> new SakuraScriptToken.OldChoiceEnd()}\n  {re: /^\\\\-/, match: (group) -> new SakuraScriptToken.Halt()}\n  {re: /^\\\\\\\\/, match: (group) -> new SakuraScriptToken.EscapeChar()}\n  {re: /^\\\\!\\[anim,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Animation args[0], args[1], args.slice(2)}\n  {re: /^\\\\!\\[bind,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Bind args[0], args[1], args[2]}\n  {re: /^\\\\!\\[moveasync,cancel\\]/, match: (group) -> new SakuraScriptToken.MoveAsyncCancel()}\n  {re: /^\\\\!\\[move(async)?,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    use_class = if group[1] then SakuraScriptToken.MoveAsync else SakuraScriptToken.Move\n    args = splitargs(group[2])\n    new use_class args[0], args[1], args[2], args[3], args[4], args[5]\n  }\n  {re: /^\\\\!\\[lock,repaint\\]/, match: (group) -> new SakuraScriptToken.LockRepaint()}\n  {re: /^\\\\!\\[unlock,repaint\\]/, match: (group) -> new SakuraScriptToken.UnlockRepaint()}\n  {re: /^\\\\!\\[set,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Set args[0], args.slice(1)}\n  {re: /^\\\\!\\[open,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Open args[0], args.slice(1)}\n  {re: /^\\\\__c/, match: (group) -> new SakuraScriptToken.OpenCommunicateBox()}\n  {re: /^\\\\__t/, match: (group) -> new SakuraScriptToken.OpenTeachBox()}\n  {re: /^\\\\!\\[\\s*raise\\s*,\\s*((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Raise args[0], args.slice(1)}\n  {re: /^\\\\!\\[\\*\\]/, match: (group) -> new SakuraScriptToken.Marker()}\n  {re: /^\\\\_u\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.UCSChar Number(group[1])}\n  {re: /^\\\\_m\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.AsciiChar Number(group[1])}\n  {re: /^\\\\&\\[([A-Za-z0-9]+)\\]/, match: (group) -> new SakuraScriptToken.EntityChar group[1]}\n  {re: /^\\\\[C67+v8]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[+V]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\[8j]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[!?v]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\!\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^./, match: (group) -> new SakuraScriptToken.Char group[0]}\n]\n\nif module?.exports?\n  module.exports =\n    SakuraScript: SakuraScript\n    SakuraScriptToken: SakuraScriptToken\nelse\n  @SakuraScript = SakuraScript\n  @SakuraScriptToken = SakuraScriptToken\n",null],"sourceRoot":"/source/"}