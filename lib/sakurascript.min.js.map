{"version":3,"sources":["lib/sakurascript.coffee","lib/sakurascript.js"],"names":["SakuraScript","SakuraScriptToken","joinargs","splitargs","slice","extend","child","parent","ctor","this","constructor","key","hasProp","call","prototype","__super__","hasOwnProperty","str","replace","all","quoted","split","map","arg","args","test","join","tokens1","tokens","fromObject","json","i","len","token","length","push","parse","script","ref","tag","tags","re","_this","group","j","offset","arguments","match","toObject","results","toSakuraScript","instance","Object","keys","class_name","toString","class","Error","Scope","superClass","scope","view","Surface","surface","SurfaceAlias","surface_alias","Balloon","balloon","PlayAnimation","animation","PlayAnimationWait","SimpleWait","period","PreciseWait","WaitFromBeginning","ResetBeginning","WaitAnimationEnd","id","ToggleQuick","ToggleSynchronize","scopes","TimeCritical","WaitClick","noclear","NoChoiceTimeout","EventChoice","text","event","references","concat","ReferencesChoice","ScriptChoice","script1","OldReferenceChoice","reference","BeginEventChoice","BeginReferencesChoice","BeginScriptChoice","EndChoice","BeginEventAnchor","BeginReferencesAnchor","BeginScriptAnchor","EndAnchor","LineBreak","HalfLineBreak","PercentLineBreak","percent","ToggleNoAutoLineBreak","Location","x1","y1","x","y","Image","path","args1","InlineImage","Font","name","BeFar","BeNear","Clear","End","OldChoiceEnd","OpenCommunicateBox","OpenTeachBox","Halt","Marker","Char","char","EscapeChar","UCSChar","AsciiChar","EntityChar","Animation","command","Bind","category","parts","dress_up","LockRepaint","UnlockRepaint","Move","duration","origin_type","source_origin","target_origin","MoveAsync","apply","MoveAsyncCancel","Raise","Set","Open","NotImplemented","str1","Number","isNaN","n","use_class","module","exports"],"mappings":"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","file":"lib/sakurascript.min.js","sourcesContent":["splitargs = (str) ->\n  str\n    .replace /\"((?:\\\\\\\\|\\\\\"|[^\"])*)\"/g, (all, quoted) -> quoted.replace(/,/g,'\\0')\n    .split /\\s*\\,\\s*/\n    .map (arg) -> arg.replace(/\\0/g, ',').replace(/\\\\(.)/, '$1')\njoinargs = (args) ->\n  args\n    .map (arg) -> arg.replace(/\\\\/, '\\\\\\\\').replace(/\\]/, '\\\\]')\n    .map (arg) -> if /[,\"]/.test(arg) then '\"' + arg.replace(/\"/, '\\\\\"') + '\"' else arg\n    .join ','\n\n# Sakura Script Parser/Builder\nclass SakuraScript\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    tokens = []\n    for token in json\n      tokens.push SakuraScriptToken.fromObject token\n    new SakuraScript tokens\n\n  # make instance from SakuraScript string\n  # @param script [string] SakuraScript string\n  # @return [SakuraScript] SakuraScript\n  @parse: (script) ->\n    tokens = []\n    while script.length\n      tag = null\n      for tag in SakuraScript.tags\n        if tag.re.test(script)\n          break\n      script = script.replace tag.re, (group..., offset, all) =>\n        tokens.push tag.match.call @, group\n        return '' # delete matched\n    new SakuraScript tokens\n\n  # constructor\n  # @param tokens [Array<SakuraScriptToken>] tokens\n  constructor: (@tokens = []) ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    for token in @tokens\n      token.toObject()\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: ->\n    (token.toSakuraScript() for token in @tokens).join ''\n\nclass SakuraScriptToken\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    instance = new SakuraScriptToken[json.class]()\n    for key in Object.keys(json) when key != \"class\"\n      instance[key] = json[key]\n    instance\n\n  # constructor\n  constructor: () ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    class_name = @constructor.toString().slice(9).match(/^[^\\s(]+/)[0]\n    json = {class: class_name}\n    for key in Object.keys(@)\n      json[key] = @[key]\n    json\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: -> throw new Error \"not implemented\"\n\n# \\0 \\h \\1 \\u \\p0 \\p[0]\nclass SakuraScriptToken.Scope extends SakuraScriptToken\n  constructor: (@scope, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\p[#{@scope}]\"\n      when \"nobracket\"\n        \"\\\\p#{@scope}\"\n      else\n        \"\\\\#{@view}\"\n# \\s0 \\s[0]\nclass SakuraScriptToken.Surface extends SakuraScriptToken\n  constructor: (@surface, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\s[#{@surface}]\"\n      when \"nobracket\"\n        \"\\\\s#{@surface}\"\n# \\s[smile]\nclass SakuraScriptToken.SurfaceAlias extends SakuraScriptToken\n  constructor: (@surface_alias) ->\n  toSakuraScript: -> \"\\\\s[#{joinargs [@surface_alias]}]\"\n# \\b0 \\b[0]\nclass SakuraScriptToken.Balloon extends SakuraScriptToken\n  constructor: (@balloon, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\b[#{@balloon}]\"\n      when \"nobracket\"\n        \"\\\\b#{@balloon}\"\n# \\i0 \\i[0]\nclass SakuraScriptToken.PlayAnimation extends SakuraScriptToken\n  constructor: (@animation, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\i[#{@animation}]\"\n      when \"nobracket\"\n        \"\\\\i#{@animation}\"\n# \\i[0,wait]\nclass SakuraScriptToken.PlayAnimationWait extends SakuraScriptToken\n  constructor: (@animation) ->\n  toSakuraScript: -> \"\\\\i[#{@animation},wait]\"\n# \\\\w1\nclass SakuraScriptToken.SimpleWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\w#{@period}\"\n# \\\\_w[1000]\nclass SakuraScriptToken.PreciseWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\_w[#{@period}]\"\n# \\\\__w[1000]\nclass SakuraScriptToken.WaitFromBeginning extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\__w[#{@period}]\"\n# \\\\__w[clear]\nclass SakuraScriptToken.ResetBeginning extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__w[clear]\"\n# \\\\__w[animation,0]\nclass SakuraScriptToken.WaitAnimationEnd extends SakuraScriptToken\n  constructor: (@id) ->\n  toSakuraScript: -> \"\\\\__w[animation,#{@id}]\"\n# \\\\_q\nclass SakuraScriptToken.ToggleQuick extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_q\"\n# \\\\_s \\s[0,1]\nclass SakuraScriptToken.ToggleSynchronize extends SakuraScriptToken\n  constructor: (@scopes = []) ->\n  toSakuraScript: -> \"\\\\_s\" + if @scopes.length then \"[#{joinargs @scopes}]\" else \"\"\n# \\\\t\nclass SakuraScriptToken.TimeCritical extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\t\"\n# \\\\x\nclass SakuraScriptToken.WaitClick extends SakuraScriptToken\n  constructor: (@noclear = false) ->\n  toSakuraScript: -> \"\\\\x\"\n# \\\\*\nclass SakuraScriptToken.NoChoiceTimeout extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\*\"\n# \\q[text,OnEvent,...]\nclass SakuraScriptToken.EventChoice extends SakuraScriptToken\n  constructor: (@text, @event, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, @event].concat(@references)}]\"\n# \\q[text,id,...]\nclass SakuraScriptToken.ReferencesChoice extends SakuraScriptToken\n  constructor: (@text, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text].concat(@references)}]\"\n# \\q[text,script:...]\nclass SakuraScriptToken.ScriptChoice extends SakuraScriptToken\n  constructor: (@text, @script) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, \"script:\" + @script]}]\"\n# \\q[id][text] \\q0[id][text]\nclass SakuraScriptToken.OldReferenceChoice extends SakuraScriptToken\n  constructor: (@text, @reference, @view) ->\n  toSakuraScript: -> \"\\\\q#{@view || ''}[#{joinargs [@reference]}][#{joinargs [@text]}]\"\n# \\\\__q[OnEvent,...]\nclass SakuraScriptToken.BeginEventChoice extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [@event].concat(@references)}]\"\n# \\\\__q[id,...]\nclass SakuraScriptToken.BeginReferencesChoice extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs @references}]\"\n# \\\\__q[script:...]\nclass SakuraScriptToken.BeginScriptChoice extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [\"script:\" + @script]}]\"\n# \\\\__q\nclass SakuraScriptToken.EndChoice extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__q\"\n# \\\\_a[OnEvent,...]\nclass SakuraScriptToken.BeginEventAnchor extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [@event].concat(@references)}]\"\n# \\\\_a[id,...]\nclass SakuraScriptToken.BeginReferencesAnchor extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs @references}]\"\n# \\\\_a[script:...]\nclass SakuraScriptToken.BeginScriptAnchor extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [\"script:\" + @script]}]\"\n# \\\\_a\nclass SakuraScriptToken.EndAnchor extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_a\"\n# \\n\nclass SakuraScriptToken.LineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n\"\n# \\n[half]\nclass SakuraScriptToken.HalfLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n[half]\"\n# \\n[100]\nclass SakuraScriptToken.PercentLineBreak extends SakuraScriptToken\n  constructor: (@percent) ->\n  toSakuraScript: -> \"\\\\n[#{@percent}]\"\n# \\\\_n\nclass SakuraScriptToken.ToggleNoAutoLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_n\"\n# \\\\_l[0,0]\nclass SakuraScriptToken.Location extends SakuraScriptToken\n  constructor: (@x, @y) ->\n  toSakuraScript: -> \"\\\\_l[#{[@x, @y].join(',')}]\"\n# \\\\_b[path,0,0,...]\nclass SakuraScriptToken.Image extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, @x, @y].concat(@args).join(',')}]\"\n# \\\\_b[path,inline,...]\nclass SakuraScriptToken.InlineImage extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, 'inline'].concat(@args).join(',')}]\"\n# \\f[...]\nclass SakuraScriptToken.Font extends SakuraScriptToken\n  constructor: (@name, @args) ->\n  toSakuraScript: -> \"\\\\f[#{joinargs [@name].concat(@args)}]\"\n# \\\\4\nclass SakuraScriptToken.BeFar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\4\"\n# \\\\5\nclass SakuraScriptToken.BeNear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\5\"\n# \\\\c\nclass SakuraScriptToken.Clear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\c\"\n# \\\\e\nclass SakuraScriptToken.End extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\e\"\n# \\\\z\nclass SakuraScriptToken.OldChoiceEnd extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\z\"\n# \\\\__c\nclass SakuraScriptToken.OpenCommunicateBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__c\"\n# \\\\__t\nclass SakuraScriptToken.OpenTeachBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__t\"\n# \\\\-\nclass SakuraScriptToken.Halt extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\-\"\n# \\\\![*]\nclass SakuraScriptToken.Marker extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![*]\"\n# a char\nclass SakuraScriptToken.Char extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> @char\n# \\\\\\\\\nclass SakuraScriptToken.EscapeChar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\\\\\\"\n# \\\\_u[0x01]\nclass SakuraScriptToken.UCSChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_u[0x#{@char.toString(16)}]\"\n# \\\\_m[0x01]\nclass SakuraScriptToken.AsciiChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_m[0x#{@char.toString(16)}]\"\n# \\\\&[amp]\nclass SakuraScriptToken.EntityChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\&[#{@char}]\"\n# \\\\![anim,...]\nclass SakuraScriptToken.Animation extends SakuraScriptToken\n  constructor: (@command, @id, @args) ->\n  toSakuraScript: -> \"\\\\![anim,#{joinargs [@command, @id].concat(@args)}]\"\n# \\\\![bind,...]\nclass SakuraScriptToken.Bind extends SakuraScriptToken\n  constructor: (@category, @parts, @dress_up) ->\n  toSakuraScript: -> \"\\\\![bind,#{joinargs [@category, @parts, @dress_up]}]\"\n# \\\\![lock,paint]\nclass SakuraScriptToken.LockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![lock,repaint]\"\n# \\\\![unlock,paint]\nclass SakuraScriptToken.UnlockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![unlock,repaint]\"\n# \\\\![move,...]\nclass SakuraScriptToken.Move extends SakuraScriptToken\n  constructor: (@x, @y, @duration, @origin_type, @source_origin, @target_origin) ->\n  toSakuraScript: -> \"\\\\![move,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,...]\nclass SakuraScriptToken.MoveAsync extends SakuraScriptToken.Move\n  toSakuraScript: -> \"\\\\![moveasync,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,cancel]\nclass SakuraScriptToken.MoveAsyncCancel extends SakuraScriptToken.Move\n  constructor: ->\n  toSakuraScript: -> \"\\\\![moveasync,cancel]\"\n# \\\\![raise,...]\nclass SakuraScriptToken.Raise extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\![raise,#{joinargs [@event].concat(@references)}]\"\n# \\\\![set,...]\nclass SakuraScriptToken.Set extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![set,#{joinargs [@id].concat(@args)}]\"\n# \\\\![open,...]\nclass SakuraScriptToken.Open extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![open,#{joinargs [@id].concat(@args)}]\"\n# not impremented tags\nclass SakuraScriptToken.NotImplemented extends SakuraScriptToken\n  constructor: (@str) ->\n  toSakuraScript: -> @str\n\nSakuraScript.tags = [\n  {re: /^\\\\([h0])/, match: (group) -> new SakuraScriptToken.Scope 0, group[1]}\n  {re: /^\\\\([u1])/, match: (group) -> new SakuraScriptToken.Scope 1, group[1]}\n  {re: /^\\\\p\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"bracket\"}\n  {re: /^\\\\p(\\d)/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s(\\d)/, match: (group) -> new SakuraScriptToken.Surface Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s\\[([^\\]]+)\\]/, match: (group) -> if isNaN(group[1]) then new SakuraScriptToken.SurfaceAlias group[1] else new SakuraScriptToken.Surface Number(group[1]), \"bracket\"}\n  {re: /^\\\\b(\\d)/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"nobracket\"}\n  {re: /^\\\\b\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"bracket\"}\n  {re: /^\\\\i(\\d)/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"nobracket\"}\n  {re: /^\\\\i\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"bracket\"}\n  {re: /^\\\\i\\[(\\d+),wait\\]/, match: (group) -> new SakuraScriptToken.PlayAnimationWait Number(group[1])}\n  {re: /^\\\\w(\\d)/, match: (group) -> new SakuraScriptToken.SimpleWait Number group[1]}\n  {re: /^\\\\_w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PreciseWait Number group[1]}\n  {re: /^\\\\__w\\[animation,(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitAnimationEnd Number group[1]}\n  {re: /^\\\\__w\\[clear\\]/, match: (group) -> new SakuraScriptToken.ResetBeginning()}\n  {re: /^\\\\__w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitFromBeginning Number group[1]}\n  {re: /^\\\\_q/, match: (group) -> new SakuraScriptToken.ToggleQuick()}\n  {re: /^\\\\_s\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.ToggleSynchronize splitargs(group[1]).map (n) -> Number(n)}\n  {re: /^\\\\_s/, match: (group) -> new SakuraScriptToken.ToggleSynchronize()}\n  {re: /^\\\\t/, match: (group) -> new SakuraScriptToken.TimeCritical()}\n  {re: /^\\\\x(\\[noclear\\])?/, match: (group) -> new SakuraScriptToken.WaitClick(!!group[1]) }\n  {re: /^\\\\\\*/, match: (group) -> new SakuraScriptToken.NoChoiceTimeout()}\n  {re: /^\\\\q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[1]\n      new SakuraScriptToken.EventChoice args[0], args[1], args.slice(2)\n    else if /^script:/.test args[1]\n      new SakuraScriptToken.ScriptChoice args[0], args[1].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.ReferencesChoice args[0], args.slice(1)\n  }\n  {re: /^\\\\__q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventChoice args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptChoice args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesChoice args\n  }\n  {re: /^\\\\__q/, match: (group) -> new SakuraScriptToken.EndChoice()}\n  {re: /^\\\\q(\\d*)\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> new SakuraScriptToken.OldReferenceChoice group[3], group[2], group[1]}\n  {re: /^\\\\_a\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventAnchor args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptAnchor args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesAnchor args\n  }\n  {re: /^\\\\_a/, match: (group) -> new SakuraScriptToken.EndAnchor()}\n  {re: /^\\\\n\\[half\\]/, match: (group) -> new SakuraScriptToken.HalfLineBreak()}\n  {re: /^\\\\n\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PercentLineBreak Number(group[1])}\n  {re: /^\\\\n/, match: (group) -> new SakuraScriptToken.LineBreak()}\n  {re: /^\\\\_n/, match: (group) -> new SakuraScriptToken.ToggleNoAutoLineBreak()}\n  {re: /^\\\\_l\\[([^\\]]+)\\]/, match: (group) -> [x, y] = splitargs(group[1]); new SakuraScriptToken.Location x, y}\n  {re: /^\\\\_b\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if args[1] == \"inline\"\n      new SakuraScriptToken.InlineImage args[0], args.slice(2)\n    else\n      new SakuraScriptToken.Image args[0], args[1], args[2], args.slice(3)\n  }\n  {re: /^\\\\f\\[([^\\]]+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Font args[0], args.slice(1)}\n  {re: /^\\\\4/, match: (group) -> new SakuraScriptToken.BeFar()}\n  {re: /^\\\\5/, match: (group) -> new SakuraScriptToken.BeNear()}\n  {re: /^\\\\c/, match: (group) -> new SakuraScriptToken.Clear()}\n  {re: /^\\\\e/, match: (group) -> new SakuraScriptToken.End()}\n  {re: /^\\\\z/, match: (group) -> new SakuraScriptToken.OldChoiceEnd()}\n  {re: /^\\\\-/, match: (group) -> new SakuraScriptToken.Halt()}\n  {re: /^\\\\\\\\/, match: (group) -> new SakuraScriptToken.EscapeChar()}\n  {re: /^\\\\!\\[anim,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Animation args[0], args[1], args.slice(2)}\n  {re: /^\\\\!\\[bind,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Bind args[0], args[1], args[2]}\n  {re: /^\\\\!\\[moveasync,cancel\\]/, match: (group) -> new SakuraScriptToken.MoveAsyncCancel()}\n  {re: /^\\\\!\\[move(async)?,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    use_class = if group[1] then SakuraScriptToken.MoveAsync else SakuraScriptToken.Move\n    args = splitargs(group[2])\n    new use_class args[0], args[1], args[2], args[3], args[4], args[5]\n  }\n  {re: /^\\\\!\\[lock,repaint\\]/, match: (group) -> new SakuraScriptToken.LockRepaint()}\n  {re: /^\\\\!\\[unlock,repaint\\]/, match: (group) -> new SakuraScriptToken.UnlockRepaint()}\n  {re: /^\\\\!\\[set,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Set args[0], args.slice(1)}\n  {re: /^\\\\!\\[open,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Open args[0], args.slice(1)}\n  {re: /^\\\\__c/, match: (group) -> new SakuraScriptToken.OpenCommunicateBox()}\n  {re: /^\\\\__t/, match: (group) -> new SakuraScriptToken.OpenTeachBox()}\n  {re: /^\\\\!\\[\\s*raise\\s*,\\s*((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Raise args[0], args.slice(1)}\n  {re: /^\\\\!\\[\\*\\]/, match: (group) -> new SakuraScriptToken.Marker()}\n  {re: /^\\\\_u\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.UCSChar Number(group[1])}\n  {re: /^\\\\_m\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.AsciiChar Number(group[1])}\n  {re: /^\\\\&\\[([A-Za-z0-9]+)\\]/, match: (group) -> new SakuraScriptToken.EntityChar group[1]}\n  {re: /^\\\\[C67+v8]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[+V]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\[8j]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[!?v]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\!\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^./, match: (group) -> new SakuraScriptToken.Char group[0]}\n]\n\nif module?.exports?\n  module.exports =\n    SakuraScript: SakuraScript\n    SakuraScriptToken: SakuraScriptToken\nelse\n  @SakuraScript = SakuraScript\n  @SakuraScriptToken = SakuraScriptToken\n",null],"sourceRoot":"/source/"}