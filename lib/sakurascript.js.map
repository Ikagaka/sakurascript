{"version":3,"sources":["lib/sakurascript.coffee"],"names":[],"mappings":"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","file":"lib/sakurascript.js","sourceRoot":"/source/","sourcesContent":["splitargs = (str) ->\n  str\n    .replace /\"((?:\\\\\\\\|\\\\\"|[^\"])*)\"/g, (all, quoted) -> quoted.replace(/,/g,'\\0')\n    .split /\\s*\\,\\s*/\n    .map (arg) -> arg.replace(/\\0/g, ',').replace(/\\\\(.)/, '$1')\njoinargs = (args) ->\n  args\n    .map (arg) -> arg.replace(/\\\\/, '\\\\\\\\').replace(/\\]/, '\\\\]')\n    .map (arg) -> if /[,\"]/.test(arg) then '\"' + arg.replace(/\"/, '\\\\\"') + '\"' else arg\n    .join ','\n\n# Sakura Script Parser/Builder\nclass SakuraScript\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    tokens = []\n    for token in json\n      tokens.push SakuraScriptToken.fromObject token\n    new SakuraScript tokens\n\n  # make instance from SakuraScript string\n  # @param script [string] SakuraScript string\n  # @return [SakuraScript] SakuraScript\n  @parse: (script) ->\n    tokens = []\n    while script.length\n      tag = null\n      for tag in SakuraScript.tags\n        if tag.re.test(script)\n          break\n      script = script.replace tag.re, (group..., offset, all) =>\n        tokens.push tag.match.call @, group\n        return '' # delete matched\n    new SakuraScript tokens\n\n  # constructor\n  # @param tokens [Array<SakuraScriptToken>] tokens\n  constructor: (@tokens = []) ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    for token in @tokens\n      token.toObject()\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: ->\n    (token.toSakuraScript() for token in @tokens).join ''\n\nclass SakuraScriptToken\n  # make instance from SakuraScript object\n  # @param json [object] SakuraScript object\n  # @return [SakuraScript] SakuraScript\n  @fromObject: (json) ->\n    instance = new SakuraScriptToken[json.class]()\n    for key in Object.keys(json) when key != \"class\"\n      instance[key] = json[key]\n    instance\n\n  # constructor\n  constructor: () ->\n\n  # make SakuraScript object\n  # @return [object] SakuraScript object\n  toObject: ->\n    class_name = @constructor.toString().slice(9).match(/^[^\\s(]+/)[0]\n    json = {class: class_name}\n    for key in Object.keys(@)\n      json[key] = @[key]\n    json\n\n  # make SakuraScript string\n  # @return [string] SakuraScript string\n  toSakuraScript: -> throw new Error \"not implemented\"\n\n# \\0 \\h \\1 \\u \\p0 \\p[0]\nclass SakuraScriptToken.Scope extends SakuraScriptToken\n  constructor: (@scope, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\p[#{@scope}]\"\n      when \"nobracket\"\n        \"\\\\p#{@scope}\"\n      else\n        \"\\\\#{@view}\"\n# \\s0 \\s[0]\nclass SakuraScriptToken.Surface extends SakuraScriptToken\n  constructor: (@surface, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\s[#{@surface}]\"\n      when \"nobracket\"\n        \"\\\\s#{@surface}\"\n# \\s[smile]\nclass SakuraScriptToken.SurfaceAlias extends SakuraScriptToken\n  constructor: (@surface_alias) ->\n  toSakuraScript: -> \"\\\\s[#{joinargs [@surface_alias]}]\"\n# \\b0 \\b[0]\nclass SakuraScriptToken.Balloon extends SakuraScriptToken\n  constructor: (@balloon, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\b[#{@balloon}]\"\n      when \"nobracket\"\n        \"\\\\b#{@balloon}\"\n# \\i0 \\i[0]\nclass SakuraScriptToken.PlayAnimation extends SakuraScriptToken\n  constructor: (@animation, @view) ->\n  toSakuraScript: ->\n    switch @view\n      when \"bracket\"\n        \"\\\\i[#{@animation}]\"\n      when \"nobracket\"\n        \"\\\\i#{@animation}\"\n# \\i[0,wait]\nclass SakuraScriptToken.PlayAnimationWait extends SakuraScriptToken\n  constructor: (@animation) ->\n  toSakuraScript: -> \"\\\\i[#{@animation},wait]\"\n# \\\\w1\nclass SakuraScriptToken.SimpleWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\w#{@period}\"\n# \\\\_w[1000]\nclass SakuraScriptToken.PreciseWait extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\_w[#{@period}]\"\n# \\\\__w[1000]\nclass SakuraScriptToken.WaitFromBeginning extends SakuraScriptToken\n  constructor: (@period) ->\n  toSakuraScript: -> \"\\\\__w[#{@period}]\"\n# \\\\__w[clear]\nclass SakuraScriptToken.ResetBeginning extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__w[clear]\"\n# \\\\__w[animation,0]\nclass SakuraScriptToken.WaitAnimationEnd extends SakuraScriptToken\n  constructor: (@id) ->\n  toSakuraScript: -> \"\\\\__w[animation,#{@id}]\"\n# \\\\_q\nclass SakuraScriptToken.ToggleQuick extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_q\"\n# \\\\_s \\s[0,1]\nclass SakuraScriptToken.ToggleSynchronize extends SakuraScriptToken\n  constructor: (@scopes = []) ->\n  toSakuraScript: -> \"\\\\_s\" + if @scopes.length then \"[#{joinargs @scopes}]\" else \"\"\n# \\\\t\nclass SakuraScriptToken.TimeCritical extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\t\"\n# \\\\x\nclass SakuraScriptToken.WaitClick extends SakuraScriptToken\n  constructor: (@noclear = false) ->\n  toSakuraScript: -> \"\\\\x\"\n# \\\\*\nclass SakuraScriptToken.NoChoiceTimeout extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\*\"\n# \\q[text,OnEvent,...]\nclass SakuraScriptToken.EventChoice extends SakuraScriptToken\n  constructor: (@text, @event, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, @event].concat(@references)}]\"\n# \\q[text,id,...]\nclass SakuraScriptToken.ReferencesChoice extends SakuraScriptToken\n  constructor: (@text, @references) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text].concat(@references)}]\"\n# \\q[text,script:...]\nclass SakuraScriptToken.ScriptChoice extends SakuraScriptToken\n  constructor: (@text, @script) ->\n  toSakuraScript: -> \"\\\\q[#{joinargs [@text, \"script:\" + @script]}]\"\n# \\q[id][text] \\q0[id][text]\nclass SakuraScriptToken.OldReferenceChoice extends SakuraScriptToken\n  constructor: (@text, @reference, @view) ->\n  toSakuraScript: -> \"\\\\q#{@view || ''}[#{joinargs [@reference]}][#{joinargs [@text]}]\"\n# \\\\__q[OnEvent,...]\nclass SakuraScriptToken.BeginEventChoice extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [@event].concat(@references)}]\"\n# \\\\__q[id,...]\nclass SakuraScriptToken.BeginReferencesChoice extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs @references}]\"\n# \\\\__q[script:...]\nclass SakuraScriptToken.BeginScriptChoice extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\__q[#{joinargs [\"script:\" + @script]}]\"\n# \\\\__q\nclass SakuraScriptToken.EndChoice extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__q\"\n# \\\\_a[OnEvent,...]\nclass SakuraScriptToken.BeginEventAnchor extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [@event].concat(@references)}]\"\n# \\\\_a[id,...]\nclass SakuraScriptToken.BeginReferencesAnchor extends SakuraScriptToken\n  constructor: (@references) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs @references}]\"\n# \\\\_a[script:...]\nclass SakuraScriptToken.BeginScriptAnchor extends SakuraScriptToken\n  constructor: (@script) ->\n  toSakuraScript: -> \"\\\\_a[#{joinargs [\"script:\" + @script]}]\"\n# \\\\_a\nclass SakuraScriptToken.EndAnchor extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_a\"\n# \\n\nclass SakuraScriptToken.LineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n\"\n# \\n[half]\nclass SakuraScriptToken.HalfLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\n[half]\"\n# \\n[100]\nclass SakuraScriptToken.PercentLineBreak extends SakuraScriptToken\n  constructor: (@percent) ->\n  toSakuraScript: -> \"\\\\n[#{@percent}]\"\n# \\\\_n\nclass SakuraScriptToken.ToggleNoAutoLineBreak extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\_n\"\n# \\\\_l[0,0]\nclass SakuraScriptToken.Location extends SakuraScriptToken\n  constructor: (@x, @y) ->\n  toSakuraScript: -> \"\\\\_l[#{[@x, @y].join(',')}]\"\n# \\\\_b[path,0,0,...]\nclass SakuraScriptToken.Image extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, @x, @y].concat(@args).join(',')}]\"\n# \\\\_b[path,inline,...]\nclass SakuraScriptToken.InlineImage extends SakuraScriptToken\n  constructor: (@path, @x, @y, @args) ->\n  toSakuraScript: -> \"\\\\_b[#{[@path, 'inline'].concat(@args).join(',')}]\"\n# \\f[...]\nclass SakuraScriptToken.Font extends SakuraScriptToken\n  constructor: (@name, @args) ->\n  toSakuraScript: -> \"\\\\f[#{joinargs [@name].concat(@args)}]\"\n# \\\\4\nclass SakuraScriptToken.BeFar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\4\"\n# \\\\5\nclass SakuraScriptToken.BeNear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\5\"\n# \\\\c\nclass SakuraScriptToken.Clear extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\c\"\n# \\\\e\nclass SakuraScriptToken.End extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\e\"\n# \\\\z\nclass SakuraScriptToken.OldChoiceEnd extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\z\"\n# \\\\__c\nclass SakuraScriptToken.OpenCommunicateBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__c\"\n# \\\\__t\nclass SakuraScriptToken.OpenTeachBox extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\__t\"\n# \\\\-\nclass SakuraScriptToken.Halt extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\-\"\n# \\\\![*]\nclass SakuraScriptToken.Marker extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![*]\"\n# a char\nclass SakuraScriptToken.Char extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> @char\n# \\\\\\\\\nclass SakuraScriptToken.EscapeChar extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\\\\\\"\n# \\\\_u[0x01]\nclass SakuraScriptToken.UCSChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_u[0x#{@char.toString(16)}]\"\n# \\\\_m[0x01]\nclass SakuraScriptToken.AsciiChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\_m[0x#{@char.toString(16)}]\"\n# \\\\&[amp]\nclass SakuraScriptToken.EntityChar extends SakuraScriptToken\n  constructor: (@char) ->\n  toSakuraScript: -> \"\\\\&[#{@char}]\"\n# \\\\![anim,...]\nclass SakuraScriptToken.Animation extends SakuraScriptToken\n  constructor: (@command, @id, @args) ->\n  toSakuraScript: -> \"\\\\![anim,#{joinargs [@command, @id].concat(@args)}]\"\n# \\\\![bind,...]\nclass SakuraScriptToken.Bind extends SakuraScriptToken\n  constructor: (@category, @parts, @dress_up) ->\n  toSakuraScript: -> \"\\\\![bind,#{joinargs [@category, @parts, @dress_up]}]\"\n# \\\\![lock,paint]\nclass SakuraScriptToken.LockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![lock,repaint]\"\n# \\\\![unlock,paint]\nclass SakuraScriptToken.UnlockRepaint extends SakuraScriptToken\n  constructor: ->\n  toSakuraScript: -> \"\\\\![unlock,repaint]\"\n# \\\\![move,...]\nclass SakuraScriptToken.Move extends SakuraScriptToken\n  constructor: (@x, @y, @duration, @origin_type, @source_origin, @target_origin) ->\n  toSakuraScript: -> \"\\\\![move,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,...]\nclass SakuraScriptToken.MoveAsync extends SakuraScriptToken.Move\n  toSakuraScript: -> \"\\\\![moveasync,#{joinargs [@x, @y, @duration, @origin_type, @source_origin, @target_origin]}]\"\n# \\\\![moveasync,cancel]\nclass SakuraScriptToken.MoveAsyncCancel extends SakuraScriptToken.Move\n  constructor: ->\n  toSakuraScript: -> \"\\\\![moveasync,cancel]\"\n# \\\\![raise,...]\nclass SakuraScriptToken.Raise extends SakuraScriptToken\n  constructor: (@event, @references) ->\n  toSakuraScript: -> \"\\\\![raise,#{joinargs [@event].concat(@references)}]\"\n# \\\\![set,...]\nclass SakuraScriptToken.Set extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![set,#{joinargs [@id].concat(@args)}]\"\n# \\\\![open,...]\nclass SakuraScriptToken.Open extends SakuraScriptToken\n  constructor: (@id, @args) ->\n  toSakuraScript: -> \"\\\\![open,#{joinargs [@id].concat(@args)}]\"\n# not impremented tags\nclass SakuraScriptToken.NotImplemented extends SakuraScriptToken\n  constructor: (@str) ->\n  toSakuraScript: -> @str\n\nSakuraScript.tags = [\n  {re: /^\\\\([h0])/, match: (group) -> new SakuraScriptToken.Scope 0, group[1]}\n  {re: /^\\\\([u1])/, match: (group) -> new SakuraScriptToken.Scope 1, group[1]}\n  {re: /^\\\\p\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"bracket\"}\n  {re: /^\\\\p(\\d)/, match: (group) -> new SakuraScriptToken.Scope Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s(\\d)/, match: (group) -> new SakuraScriptToken.Surface Number(group[1]), \"nobracket\"}\n  {re: /^\\\\s\\[([^\\]]+)\\]/, match: (group) -> if isNaN(group[1]) then new SakuraScriptToken.SurfaceAlias group[1] else new SakuraScriptToken.Surface Number(group[1]), \"bracket\"}\n  {re: /^\\\\b(\\d)/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"nobracket\"}\n  {re: /^\\\\b\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.Balloon Number(group[1]), \"bracket\"}\n  {re: /^\\\\i(\\d)/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"nobracket\"}\n  {re: /^\\\\i\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PlayAnimation Number(group[1]), \"bracket\"}\n  {re: /^\\\\i\\[(\\d+),wait\\]/, match: (group) -> new SakuraScriptToken.PlayAnimationWait Number(group[1])}\n  {re: /^\\\\w(\\d)/, match: (group) -> new SakuraScriptToken.SimpleWait Number group[1]}\n  {re: /^\\\\_w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PreciseWait Number group[1]}\n  {re: /^\\\\__w\\[animation,(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitAnimationEnd Number group[1]}\n  {re: /^\\\\__w\\[clear\\]/, match: (group) -> new SakuraScriptToken.ResetBeginning()}\n  {re: /^\\\\__w\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.WaitFromBeginning Number group[1]}\n  {re: /^\\\\_q/, match: (group) -> new SakuraScriptToken.ToggleQuick()}\n  {re: /^\\\\_s\\[([^\\]]+)\\]/, match: (group) -> new SakuraScriptToken.ToggleSynchronize splitargs(group[1]).map (n) -> Number(n)}\n  {re: /^\\\\_s/, match: (group) -> new SakuraScriptToken.ToggleSynchronize()}\n  {re: /^\\\\t/, match: (group) -> new SakuraScriptToken.TimeCritical()}\n  {re: /^\\\\x(\\[noclear\\])?/, match: (group) -> new SakuraScriptToken.WaitClick(!!group[1]) }\n  {re: /^\\\\\\*/, match: (group) -> new SakuraScriptToken.NoChoiceTimeout()}\n  {re: /^\\\\q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[1]\n      new SakuraScriptToken.EventChoice args[0], args[1], args.slice(2)\n    else if /^script:/.test args[1]\n      new SakuraScriptToken.ScriptChoice args[0], args[1].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.ReferencesChoice args[0], args.slice(1)\n  }\n  {re: /^\\\\__q\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventChoice args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptChoice args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesChoice args\n  }\n  {re: /^\\\\__q/, match: (group) -> new SakuraScriptToken.EndChoice()}\n  {re: /^\\\\q(\\d*)\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> new SakuraScriptToken.OldReferenceChoice group[3], group[2], group[1]}\n  {re: /^\\\\_a\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if /^On/.test args[0]\n      new SakuraScriptToken.BeginEventAnchor args[0], args.slice(1)\n    else if /^script:/.test args[0]\n      new SakuraScriptToken.BeginScriptAnchor args[0].replace(/^script:/, '')\n    else\n      new SakuraScriptToken.BeginReferencesAnchor args\n  }\n  {re: /^\\\\_a/, match: (group) -> new SakuraScriptToken.EndAnchor()}\n  {re: /^\\\\n\\[half\\]/, match: (group) -> new SakuraScriptToken.HalfLineBreak()}\n  {re: /^\\\\n\\[(\\d+)\\]/, match: (group) -> new SakuraScriptToken.PercentLineBreak Number(group[1])}\n  {re: /^\\\\n/, match: (group) -> new SakuraScriptToken.LineBreak()}\n  {re: /^\\\\_n/, match: (group) -> new SakuraScriptToken.ToggleNoAutoLineBreak()}\n  {re: /^\\\\_l\\[([^\\]]+)\\]/, match: (group) -> [x, y] = splitargs(group[1]); new SakuraScriptToken.Location x, y}\n  {re: /^\\\\_b\\[((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    args = splitargs(group[1])\n    if args[1] == \"inline\"\n      new SakuraScriptToken.InlineImage args[0], args.slice(2)\n    else\n      new SakuraScriptToken.Image args[0], args[1], args[2], args.slice(3)\n  }\n  {re: /^\\\\f\\[([^\\]]+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Font args[0], args.slice(1)}\n  {re: /^\\\\4/, match: (group) -> new SakuraScriptToken.BeFar()}\n  {re: /^\\\\5/, match: (group) -> new SakuraScriptToken.BeNear()}\n  {re: /^\\\\c/, match: (group) -> new SakuraScriptToken.Clear()}\n  {re: /^\\\\e/, match: (group) -> new SakuraScriptToken.End()}\n  {re: /^\\\\z/, match: (group) -> new SakuraScriptToken.OldChoiceEnd()}\n  {re: /^\\\\-/, match: (group) -> new SakuraScriptToken.Halt()}\n  {re: /^\\\\\\\\/, match: (group) -> new SakuraScriptToken.EscapeChar()}\n  {re: /^\\\\!\\[anim,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Animation args[0], args[1], args.slice(2)}\n  {re: /^\\\\!\\[bind,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Bind args[0], args[1], args[2]}\n  {re: /^\\\\!\\[moveasync,cancel\\]/, match: (group) -> new SakuraScriptToken.MoveAsyncCancel()}\n  {re: /^\\\\!\\[move(async)?,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) ->\n    use_class = if group[1] then SakuraScriptToken.MoveAsync else SakuraScriptToken.Move\n    args = splitargs(group[2])\n    new use_class args[0], args[1], args[2], args[3], args[4], args[5]\n  }\n  {re: /^\\\\!\\[lock,repaint\\]/, match: (group) -> new SakuraScriptToken.LockRepaint()}\n  {re: /^\\\\!\\[unlock,repaint\\]/, match: (group) -> new SakuraScriptToken.UnlockRepaint()}\n  {re: /^\\\\!\\[set,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Set args[0], args.slice(1)}\n  {re: /^\\\\!\\[open,((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Open args[0], args.slice(1)}\n  {re: /^\\\\__c/, match: (group) -> new SakuraScriptToken.OpenCommunicateBox()}\n  {re: /^\\\\__t/, match: (group) -> new SakuraScriptToken.OpenTeachBox()}\n  {re: /^\\\\!\\[\\s*raise\\s*,\\s*((?:\\\\\\\\|\\\\\\]|[^\\]])+)\\]/, match: (group) -> args = splitargs(group[1]); new SakuraScriptToken.Raise args[0], args.slice(1)}\n  {re: /^\\\\!\\[\\*\\]/, match: (group) -> new SakuraScriptToken.Marker()}\n  {re: /^\\\\_u\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.UCSChar Number(group[1])}\n  {re: /^\\\\_m\\[([A-Fa-fXx0-9]+)\\]/, match: (group) -> new SakuraScriptToken.AsciiChar Number(group[1])}\n  {re: /^\\\\&\\[([A-Za-z0-9]+)\\]/, match: (group) -> new SakuraScriptToken.EntityChar group[1]}\n  {re: /^\\\\[C67+v8]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[+V]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\[8j]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\_[!?v]\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^\\\\!\\[.*?\\]/, match: (group) -> new SakuraScriptToken.NotImplemented group[0]} # not implemented quick\n  {re: /^./, match: (group) -> new SakuraScriptToken.Char group[0]}\n]\n\nif module?.exports?\n  module.exports =\n    SakuraScript: SakuraScript\n    SakuraScriptToken: SakuraScriptToken\nelse\n  @SakuraScript = SakuraScript\n  @SakuraScriptToken = SakuraScriptToken\n"]}